<title>邮箱 - 页面示例</title>

<link rel="stylesheet" href="/lib/select2/dist/css/select2.css">
<link rel="stylesheet" href="/lib/bootstrap-markdown/css/bootstrap-markdown.min.css">
<link rel="stylesheet" href="/lib/bootstrap-select/dist/css/bootstrap-select.css">
<link rel="stylesheet" href="/lib/jquery-slidePanel/dist/css/slidePanel.css">

<style>
@charset "UTF-8";


.page-mailbox .identity {
    white-space: nowrap
}

.page-mailbox .page-content-actions .btn-group {
    margin-left: 8px
}

.page-mailbox .page-content-actions .btn-pure.btn-default {
    color: #a3afb7
}

.page-mailbox .page-content-actions .btn-pure.btn-default.active,.page-mailbox .page-content-actions .btn-pure.btn-default:focus,.page-mailbox .page-content-actions .btn-pure.btn-default:hover {
    color: #76838f
}

.page-mailbox .checkbox-important {
    margin-bottom: 4px;
    padding: 9px 0 0 14px;
    position: relative
}

.page-mailbox .checkbox-important input[type=checkbox] {
    cursor: pointer;
    left: 3px;
    margin: -2px 0 0;
    opacity: 0;
    position: absolute;
    top: 50%;
    z-index: 2
}

.page-mailbox .checkbox-important input[type=checkbox]:checked+label:before {
    background-color: transparent;
    color: #eb6709
}

.page-mailbox .checkbox-important label {
    cursor: pointer;
    line-height: 1.2;
    margin-bottom: 0;
    text-align: left;
    font-weight: 400
}

.page-mailbox .checkbox-important label:before {
    color: #e4eaec;
    content: "";
    display: inline-block;
    font-family: "Web Icons";
    font-size: 16px;
    height: 16px;
    left: 4px;
    line-height: 1;
    margin-top: -4px;
    position: absolute;
    top: 50%;
    width: 16px;
    font-weight: 700
}

.page-mailbox .table {
    table-layout: fixed;
    border-collapse: collapse
}

.page-mailbox .table td {
    vertical-align: middle
}

.page-mailbox .table .avatar {
    margin-left: 10px
}

.page-mailbox .table .content>* {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap
}

.page-mailbox .table .title {
    color: #526069
}

.page-mailbox .table .time,.slidePanel .mail-header .time {
    color: #a3afb7
}

.page-mailbox .table .identity>i {
    margin-right: 8px
}

.page-mailbox .table .unread>td:first-child {
    border-left: 1px solid #3e8ef7
}

.page-mailbox .select2-container {
    z-index: 1700
}

@media (max-width:767.98px) {
    .page-mailbox .responsive-hide {
        display: none
    }
}

.slidePanel .mail-header::after,.slidePanel-header::after {
    display: block;
    clear: both;
    content: ""
}

@media (max-width:479.98px) {
    .page-mailbox .page-header .page-header-actions {
        margin-top: 20px;
        position: relative;
        top: 0;
        right: 0;
        -webkit-transform: none;
        transform: none
    }

    .page-mailbox .page-content-actions .actions-right {
        float: none;
        display: block
    }
}

.slidePanel-header {
    background-color: #0bb2d4
}

.slidePanel .actions-top {
    position: absolute;
    top: 30px;
    right: 20px
}

.slidePanel .actions-bottom {
    position: absolute;
    bottom: 30px;
    right: 20px
}

.slidePanel .mail-header {
    position: relative;
    padding-left: 50px;
    margin-bottom: 20px
}

.slidePanel .mail-header-main {
    display: inline-block
}

.slidePanel .mail-header-right {
    float: right
}

.slidePanel .mail-header .avatar {
    position: absolute;
    top: 0;
    left: 0
}

.slidePanel .mail-header .identity .icon {
    margin-left: 10px;
    margin-right: 6px
}

.slidePanel .mail-content p {
    margin-bottom: 20px
}

.slidePanel .mail-content p:last-child {
    margin-bottom: 0
}

.slidePanel .mail-content+.mail-attachments {
    margin-top: 40px
}

.slidePanel .mail-attachments {
    margin-bottom: 20px
}

.slidePanel .mail-attachments .wb-paperclip {
    margin-right: 10px
}

.slidePanel .mail-attachments .list-group-item {
    padding: 0
}
</style>

<div class="page bg-white page-mailbox page-aside-fixed page-aside-left page-full">

    <div class="page-aside">
        <div class="page-aside-switch">
            <i class="icon wb-chevron-left" aria-hidden="true"></i>
            <i class="icon wb-chevron-right" aria-hidden="true"></i>
        </div>
        <div class="page-aside-inner h-full" data-plugin="slimScroll">
            <div class="page-aside-section">
                <div class="list-group">
                    <a class="list-group-item active" href="javascript:;">
                        <span class="badge badge-pill badge-danger">6</span>
                        <i class="icon wb-inbox" aria-hidden="true"></i>收件箱
                    </a>
                    <a class="list-group-item" href="javascript:;">
                        <i class="icon wb-envelope" aria-hidden="true"></i>已发送
                    </a>
                    <a class="list-group-item" href="javascript:;">
                        <span class="badge badge-pill badge-info">2</span>
                        <i class="icon wb-edit" aria-hidden="true"></i>草稿箱
                    </a>
                    <a class="list-group-item" href="javascript:;">
                        <i class="icon wb-star" aria-hidden="true"></i>标星邮件
                    </a>
                    <a class="list-group-item" href="javascript:;">
                        <i class="icon wb-trash" aria-hidden="true"></i>回收站
                    </a>
                </div>
            </div>
            <div class="page-aside-section">
                <h5 class="page-aside-title">标签</h5>
                <div class="list-group has-actions">
                    <div class="list-group-item">
                        <div class="list-content">
                            <i class="item-right wb-medium-point red-600" aria-hidden="true"></i>
                            <span class="list-text">工作</span>
                            <div class="item-actions">
                                <span class="btn btn-pure btn-icon" data-toggle="list-editable">
                                    <i class="icon wb-edit" aria-hidden="true"></i>
                                </span>
                                <span class="btn btn-pure btn-icon" data-tag="list-delete">
                                    <i class="icon wb-trash" aria-hidden="true"></i>
                                </span>
                            </div>
                        </div>
                        <div class="list-editable">
                            <div class="form-group form-material">
                                <input type="text" class="form-control empty" name="label" data-bind=".list-text" value="Work">
                                <button type="button" class="input-editable-close icon wb-close" data-toggle="list-editable-close"
                                        aria-label="关闭" aria-expanded="true"></button>
                            </div>
                        </div>
                    </div>
                    <div class="list-group-item">
                        <div class="list-content">
                            <i class="item-right wb-medium-point orange-600" aria-hidden="true"></i>
                            <span class="list-text">家庭</span>
                            <div class="item-actions">
                                <span class="btn btn-pure btn-icon" data-toggle="list-editable">
                                    <i class="icon wb-edit" aria-hidden="true"></i>
                                </span>
                                <span class="btn btn-pure btn-icon" data-tag="list-delete">
                                    <i class="icon wb-trash" aria-hidden="true"></i>
                                </span>
                            </div>
                        </div>
                        <div class="list-editable">
                            <div class="form-group form-material">
                                <input type="text" class="form-control empty" name="label" data-bind=".list-text" value="Family">
                                <button type="button" class="input-editable-close icon wb-close" data-toggle="list-editable-close"
                                        aria-label="关闭" aria-expanded="true"></button>
                            </div>
                        </div>
                    </div>
                    <div class="list-group-item">
                        <div class="list-content">
                            <i class="item-right wb-medium-point cyan-600" aria-hidden="true"></i>
                            <span class="list-text">个人</span>
                            <div class="item-actions">
                                <span class="btn btn-pure btn-icon" data-toggle="list-editable">
                                    <i class="icon wb-edit" aria-hidden="true"></i>
                                </span>
                                <span class="btn btn-pure btn-icon" data-tag="list-delete">
                                    <i class="icon wb-trash" aria-hidden="true"></i>
                                </span>
                            </div>
                        </div>
                        <div class="list-editable">
                            <div class="form-group form-material">
                                <input type="text" class="form-control empty" name="label" data-bind=".list-text" value="Private">
                                <button type="button" class="input-editable-close icon wb-close" data-toggle="list-editable-close"
                                        aria-label="关闭" aria-expanded="true"></button>
                            </div>
                        </div>
                    </div>
                    <div class="list-group-item">
                        <div class="list-content">
                            <i class="item-right wb-medium-point green-600" aria-hidden="true"></i>
                            <span class="list-text">朋友</span>
                            <div class="item-actions">
                                <span class="btn btn-pure btn-icon" data-toggle="list-editable">
                                    <i class="icon wb-edit" aria-hidden="true"></i>
                                </span>
                                <span class="btn btn-pure btn-icon" data-tag="list-delete">
                                    <i class="icon wb-trash" aria-hidden="true"></i>
                                </span>
                            </div>
                        </div>
                        <div class="list-editable">
                            <div class="form-group form-material">
                                <input type="text" class="form-control empty" name="label" data-bind=".list-text" value="好友">
                                <button type="button" class="input-editable-close icon wb-close" data-toggle="list-editable-close"
                                        aria-label="关闭" aria-expanded="true"></button>
                            </div>
                        </div>
                    </div>
                    <a id="addLabelToggle" class="list-group-item" href="javascript:;">
                        <i class="icon wb-plus" aria-hidden="true"></i> 添加新标签
                    </a>
                </div>
            </div>
        </div>
    </div>

    <div class="page-main">

        <div class="page-header">
            <h1 class="page-title">邮箱</h1>
            <div class="page-header-actions">
                <form>
                    <div class="input-search input-search-dark">
                        <i class="input-search-icon wb-search" aria-hidden="true"></i>
                        <input type="text" class="form-control" name="" placeholder="查找...">
                    </div>
                </form>
            </div>
        </div>

        <div class="page-content page-content-table pb-20" data-selectable="selectable">

            <div class="page-content-actions">
                <div class="actions-main">
                    <span class="checkbox-custom checkbox-primary checkbox-lg inline-block vertical-align-bottom">
                        <input type="checkbox" class="mailbox-checkbox selectable-all" id="select_all">
                        <label for="select_all"></label>
                    </span>
                    <div class="btn-group">
                        <div class="dropdown">
                            <button class="btn btn-icon btn-pure btn-default" data-toggle="dropdown" aria-expanded="false"
                                    type="button">
                                <i class="icon wb-folder" aria-hidden="true" data-toggle="tooltip" data-original-title="文件夹"
                                    data-container="body" title=""></i>
                            </button>
                            <div class="dropdown-menu" role="menu">
                                <a class="dropdown-item" href="javascript:;">工作</a>
                                <a class="dropdown-item" href="javascript:;">家庭</a>
                                <a class="dropdown-item" href="javascript:;">个人</a>
                                <a class="dropdown-item" href="javascript:;">朋友</a>
                                <li class="dropdown-divider"></li>
                                <a class="dropdown-item" href="javascript:;">回收站</a>
                                <a class="dropdown-item" href="javascript:;">垃圾邮件</a>
                            </div>
                        </div>
                        <div class="dropdown">
                            <button class="btn btn-icon btn-pure btn-default" data-toggle="dropdown" aria-expanded="false"
                                    type="button">
                                <i class="icon wb-tag" aria-hidden="true" data-toggle="tooltip" data-original-title="标签"
                                    data-container="body" title=""></i>
                            </button>
                            <div class="dropdown-menu" role="menu">
                                <a class="dropdown-item" href="javascript:;">工作</a>
                                <a class="dropdown-item" href="javascript:;">家庭</a>
                                <a class="dropdown-item" href="javascript:;">个人</a>
                                <a class="dropdown-item" href="javascript:;">朋友</a>
                            </div>
                        </div>
                        <div class="dropdown">
                            <button type="button" class="btn btn-pure" data-toggle="dropdown" aria-expanded="false">
                                全选
                                <span class="icon wb-chevron-down-mini" aria-hidden="true"></span>
                            </button>
                            <div class="dropdown-menu dropdown-menu-right animation-scale-up animation-top-right animation-duration-250"
                                    role="menu">
                                <a class="dropdown-item" href="javascript:;">全选</a>
                                <a class="dropdown-item" href="javascript:;">已读</a>
                                <a class="dropdown-item" href="javascript:;">未读</a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="javascript:;">标星</a>
                                <a class="dropdown-item" href="javascript:;">未标星</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <table id="mailboxTable" class="table" data-plugin="animateList" data-animate="fade" data-child="tr">
                <tbody></tbody>
            </table>

            <ul data-plugin="twbsPagination" data-total-pages="50" data-pagination-class="pagination pagination-no-border"></ul>
        </div>
    </div>
    <div class="site-action">
        <button type="button" class="site-action-toggle btn-raised btn btn-success btn-floating">
            <i class="front-icon wb-pencil animation-scale-up" aria-hidden="true"></i>
            <i class="back-icon wb-close animation-scale-up" aria-hidden="true"></i>
        </button>
        <div class="site-action-buttons">
            <button type="button" data-action="trash" class="btn-raised btn btn-success btn-floating animation-slide-bottom">
                <i class="icon wb-trash" aria-hidden="true"></i>
            </button>
            <button type="button" data-action="inbox" class="btn-raised btn btn-success btn-floating animation-slide-bottom">
                <i class="icon wb-inbox" aria-hidden="true"></i>
            </button>
        </div>
    </div>
</div>

<div class="modal fade" id="addMailForm" aria-hidden="true" aria-labelledby="addMailForm" role="dialog" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" aria-hidden="true" data-dismiss="modal">×</button>
                <h4 class="modal-title">写邮件</h4>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <select id="topicTo" class="form-control" data-plugin="select2" multiple="multiple"
                                data-placeholder="收件人：">
                            <optgroup label="">
                                <option value="AK">梅小燕 - meixiaoyan@qq.com</option>
                                <option value="HI">唐雪琴 - xueqin@163.com</option>
                            </optgroup>
                        </select>
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="主题：">
                    </div>
                    <div class="form-group">
                        <textarea name="content" class="markdown-edit" rows="10"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer text-left">
                <button class="btn btn-primary" data-dismiss="modal" type="submit">发送</button>
                <a class="btn btn-sm btn-white" data-dismiss="modal" href="javascript:;">取消</a>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="addLabelForm" aria-hidden="true" aria-labelledby="addLabelForm" role="dialog" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" aria-hidden="true" data-dismiss="modal">×</button>
                <h4 class="modal-title">添加新标签</h4>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <input type="text" class="form-control" name="lablename" placeholder="标签名称">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" data-dismiss="modal" type="submit">保存</button>
                <a class="btn btn-sm btn-white" data-dismiss="modal" href="javascript:;">取消</a>
            </div>
        </div>
    </div>
</div>


<script src="/vendor/bootstrap-markdown/js/bootstrap-markdown.js" data-name="markdown"></script>
<script src="/vendor/bootstrap-markdown/locale/bootstrap-markdown.zh.js" data-deps="markdown"></script>
<script src="/vendor/select2/dist/js/select2.full.min.js" data-name="select2"></script>
<script src="/vendor/select2/dist/js/i18n/zh-CN.js" data-deps="select2"></script>
<script src="/vendor/marked/marked.min.js"></script>
<script src="/vendor/to-markdown/dist/to-markdown.js"></script>

<script src="/vendor/twbs-pagination/jquery.twbsPagination.min.js"></script>
<script src="/vendor/bootbox.js/dist/bootbox.all.min.js"></script>
<script src="/vendor/jquery-slidePanel/dist/jquery-slidePanel.min.js"></script>
<script src="/static/js/plugins/action-btn.js"></script>
<script src="/static/js/plugins/selectable.js"></script>

<script>
/**
 * QAdmin v1.2.0 (http://www.qadmin.com/)
 * Copyright 2015-2017 QAdmin Team
 * Licensed under the QAdmin License 1.0 (http://www.qadmin.com/about/#license)
 */
(function (document, window, $) {
    'use strict';

    var $pageContent = $('#qadmin-pageContent');

    window.Content = App.extend({
        handleAction: function () {
            var actionBtn = $('.site-action').actionBtn().data('actionBtn'),
                $selectable = $('[data-selectable]');

            $pageContent.on('click', '.site-action-toggle', '.site-action',function (e) {
                var $selected = $selectable.asSelectable('getSelected');

                if ($selected.length === 0) {
                    $('#addMailForm').modal('show');
                    e.stopPropagation();
                }
            });

            $pageContent.on('click', '[data-action="trash"]', '.site-action', function () {
                toastr.info('删除所选邮件');
            });

            $pageContent.on('click', '[data-action="inbox"]', '.site-action', function () {
                toastr.info('移动所选邮件到指定文件夹');
            });

            $pageContent.on('asSelectable::change', '[data-selectable]', function (e, api, checked) {
                if (checked) {
                    actionBtn.show();
                } else {
                    actionBtn.hide();
                }
            });
        },

        handleListItem: function () {
            $pageContent.on('click', '#addLabelToggle', function (e) {
                $('#addLabelForm').modal('show');
                e.stopPropagation();
            });

            $pageContent.on('click', '[data-tag=list-delete]', function (e) {
                bootbox.setDefaults($.po('bootbox'));
                bootbox.dialog({
                    message: "您确定要删除这个标签吗？",
                    buttons: {
                        success: {
                            label: "确定",
                            className: "btn-danger",
                            callback: function () {
                                $(e.target).closest('.list-group-item').remove();
                            }
                        }
                    }
                });
            });
        },

        itemTpl: function (data) {
            return '<tr id="' + data.id + '" data-mailbox="slidePanel" ' + (data.unread === 'true' ? 'class="unread"' : '') + '>' +
                '<td class="cell-60">' +
                '<span class="checkbox-custom checkbox-primary checkbox-lg">' +
                '<input type="checkbox" class="mailbox-checkbox selectable-item" id="mail_' + data.id + '"/>' +
                '<label for="mail_' + data.id + '"></label>' +
                '</span>' +
                '</td>' +
                '<td class="cell-30 responsive-hide">' +
                '<span class="checkbox-important checkbox-default">' +
                '<input type="checkbox" class="mailbox-checkbox mailbox-important" ' + (data.starred === 'true' ? 'checked="checked"' : '') + ' id="mail_' + data.id + '_important"/>' +
                '<label for="mail_' + data.id + '_important"></label>' +
                '</span>' +
                '</td>' +
                '<td class="cell-60 responsive-hide">' +
                '<a class="avatar" href="javascript:;"><img class="img-responsive" src="' + data.avatar + '" alt="..."></a>' +
                '</td>' +
                '<td>' +
                '<div class="content">' +
                '<div class="title">' + data.name + '</div>' +
                '<div class="abstract">' + data.title + '</div>' +
                '</div>' +
                '</td>' +
                '<td class="cell-30 responsive-hide">' +
                (data.attachments.length > 0 ? '<i class="icon wb-paperclip" aria-hidden="true"></i>' : '') +
                '</td>' +
                '<td class="cell-130">' +
                '<div class="time">' + data.time + '</div>' +
                (data.group.length > 0 ? '<div class="identity"><i class="wb-medium-point ' + data.color + '" aria-hidden="true"></i>' + data.group + '</div>' : '') +
                '</td>' +
                '</tr>';
        },

        attachmentsTpl: function (data) {
            var self = this,
                html = '';

            html += '<div class="mail-attachments">' +
                '<p><i Class="icon wb-paperclip"></i>Attachments | <a href="javascript:;">Download All</a></p>' +
                '<ul class="list-group">';

            $.each(data, function (n, item) {
                html += self.attachmentTpl(item);
            });

            html += '</ul></div>';

            return html;
        },

        attachmentTpl: function (data) {
            return '<li class="list-group-item">' +
                '<span class="name">' + data.name + '</span><span class="size">' + data.size + '</span>' +
                '<button type="button" class="btn btn-icon btn-pure btn-default"><i class="icon wb-download" aria-hidden="true"></i></button>' +
                '</li>';
        },

        messagesTpl: function (data) {
            var html = '';

            $.each(data.messages, function (n, item) {
                html += '<section class="slidePanel-inner-section">' +
                    '<div class="mail-header">' +
                    '<div class="mail-header-main">' +
                    '<a class="avatar" href="javascript:;"><img src="' + data.avatar + '" alt="..."></a>' +
                    '<div><span class="name">' + data.name + '</span></div>' +
                    '<div>' +
                    '<a href="javascript:;" class="mailbox-panel-email">' + data.email + '</a>' +
                    ' 发送给 <a href="javascript:;" class="margin-right-10">我</a>' +
                    '<span class="identity"><i class="wb-medium-point red-600" aria-hidden="true"></i>' + data.group + '</span>' +
                    '</div>' +
                    '</div>' +
                    '<div class="mail-header-right">' +
                    '<span class="time">' + item.time + '</span>' +
                    '<div class="btn-group actions" role="group">' +
                    '<button type="button" class="btn btn-icon btn-pure btn-default"><i class="icon wb-star" aria-hidden="true"></i></button>' +
                    '<button type="button" class="btn btn-icon btn-pure btn-default"><i class="icon wb-reply" aria-hidden="true"></i></button>' +
                    '</div>' +
                    '</div>' +
                    '</div>' +
                    '<div class="mail-content">' + item.content + '</div>';

                if (n === 0) {
                    if (item.attachments && item.attachments.length > 0) {
                        html += this.attachmentsTpl(item.attachments);
                    }
                }

                html += '</section>';
            });

            return html;
        },

        initMail: function () {
            var self = this;

            $.getJSON($.ctx + '/views/examples/pages_team/mailbox.json', function (data) {
                var $wrap = $('#mailboxTable');

                self.buildMail($wrap, data);
                self.initMailData(data);
                self.handlSlidePanelPlugin();
            });
        },

        initMailData: function (data) {
            this.mailboxData = data;
        },

        buildMail: function ($wrap, data) {
            var self = this,
                $tbody = $('<tbody></tbody>');

            $.each(data, function (i, item) {
                self.buildItem($tbody, item);
            });

            $wrap.empty().append($tbody);
        },

        buildItem: function ($wrap, data) {
            $wrap.append($(this.itemTpl(data)).data('mailInfo', data));
        },

        handlePanel: function () {
            $pageContent.on('click', '[data-mailbox="slidePanel"]', function () {
                console.log(this, $(this));
            });
        },

        handlSlidePanelPlugin: function () {
            var self = this;

            if (typeof $.slidePanel === 'undefined') {
                return;
            }

            $pageContent.on('click', '[data-mailbox="slidePanel"]', function (e) {
                $.slidePanel.show({
                    url: $.ctx + '/views/examples/pages_team/mailbox.tpl',
                    target: $(this)
                }, $.po('slidePanel', {
                    template: function (options) {
                        return '<div class="' + options.classes.base + ' ' + options.classes.base + '-' + options.direction + '">' +
                            '<div class="' + options.classes.base + '-scrollable"><div>' +
                            '<div class="' + options.classes.content + '"></div>' +
                            '</div></div>' +
                            '<div class="' + options.classes.base + '-handler"></div>' +
                            '</div>';
                    },
                    afterLoad: function () {
                        this.$panel.find('.' + this.options.classes.base + '-scrollable')
                            .slimScroll($.po('slimScroll'));
                    },
                    contentFilter: function (data, object) {
                        var $target = $(object.target),
                            info = $target.data('mailInfo'),
                            $panel = $(data);

                        $('.mailbox-panel-title', $panel).html(info.title);

                        $('.slidePanel-messages', $panel).html(self.messagesTpl(info));

                        return $panel;
                    }
                }));

                e.stopPropagation();
            });
        },

        run: function (next) {
            this.handleAction();
            this.handleListItem();

            this.initMail();

            $('#addlabelForm').modal({
                show: false
            });

            $('#addMailForm').modal({
                show: false
            });

            $pageContent.on('click', '.checkbox-important', function (e) {
                e.stopPropagation();
            });

            this.handleMultiSelect();

            $('.markdown-edit').markdown({
                language: 'zh',
                iconlibrary: 'fa'
            });

            $.leavePage = function(){
                $.slidePanel = null;
            };

            next();
        }
    });
    
})(document, window, jQuery);
</script>